!function(a){window.The7Options||(window.The7Options={}),window.The7Options.slider||(window.The7Options.slider=function(b){var c=a(b),d=c.next("input.of-slider-value");d.length&&(c.slider({value:parseInt(d.attr("data-value")),min:parseInt(d.attr("data-min")),max:parseInt(d.attr("data-max")),step:parseInt(d.attr("data-step")),range:"min",slide:function(a,b){d.val(b.value).trigger("change.of-slider-slide")}}),d.val(c.slider("value")),d.on("change",function(a){var b=parseInt(d.val());isNaN(b)&&(b=c.slider("option","min")),c.slider("value",b),d.val(c.slider("value"))}))})}(jQuery),function(a){function b(a){var b;return a=a.replace(/ /g,""),a.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(b=100*parseFloat(a.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),b=parseInt(b)):b=100,b}function c(a,b,c,e){var f,g,h;f=b.data("a8cIris"),g=b.data("wpWpColorPicker"),f._color._alpha=a,h=f._color.toString(),b.val(h),g.toggler.css({"background-color":h}),e&&d(a,c),b.wpColorPicker("color",h)}function d(a,b){b.slider("value",a),b.find(".ui-slider-handle").text(a.toString())}window.The7Options||(window.The7Options={}),window.The7Options.alphaColor||(window.The7Options.alphaColor=function(b){a(b).alphaColorPicker()},Color.prototype.toString=function(a){if("no-alpha"==a)return this.toCSS("rgba","1").replace(/\s+/g,"");if(1>this._alpha)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var b=parseInt(this._color,10).toString(16);if(this.error)return"";if(b.length<6)for(var c=6-b.length-1;c>=0;c--)b="0"+b;return"#"+b},a.fn.alphaColorPicker=function(){return this.each(function(){var e,f,g,h,i,j,k,l,m,n,o;e=a(this),e.wrap('<div class="alpha-color-picker-wrap"></div>'),g=e.attr("data-palette")||"true",h=e.attr("data-show-opacity")||"true",i=e.attr("data-default-color")||"",j=g.indexOf("|")!==-1?g.split("|"):"false"!=g,f=e.val().replace(/\s+/g,""),""==f&&(f=i),k={change:function(a,c){var d,f,g,h;d=e.attr("data-customize-setting-link"),f=e.wpColorPicker("color"),i==f&&(g=b(f),m.find(".ui-slider-handle").text(g)),"undefined"!=typeof wp.customize&&wp.customize(d,function(a){a.set(f)}),h=l.find(".transparency"),h.css("background-color",c.color.toString("no-alpha"))},palettes:j},e.wpColorPicker(k),l=e.parents(".wp-picker-container:first"),a('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(l.find(".wp-picker-holder")),m=l.find(".alpha-slider"),n=b(f),o={create:function(b,c){var d=a(this).slider("value");a(this).find(".ui-slider-handle").text(d),a(this).siblings(".transparency ").css("background-color",f)},value:n,range:"max",step:1,min:0,max:100,animate:300},m.slider(o),"true"==h&&m.find(".ui-slider-handle").addClass("show-opacity"),l.find(".min-click-zone").on("click",function(){c(0,e,m,!0)}),l.find(".max-click-zone").on("click",function(){c(100,e,m,!0)}),l.find(".iris-palette").on("click",function(){var c,f;c=a(this).css("background-color"),f=b(c),d(f,m),100!=f&&(c=c.replace(/[^,]+(?=\))/,(f/100).toFixed(2))),e.wpColorPicker("color",c)}),l.find(".button.wp-picker-default").on("click",function(){var a=b(i);d(a,m)}),e.on("input",function(){var c=a(this).val(),e=b(c);d(e,m)}),m.slider().on("slide",function(b,d){var f=parseFloat(d.value)/100;c(f,e,m,!1),a(this).find(".ui-slider-handle").text(d.value)})})})}(jQuery),function(a){function b(a,b){return a.position-b.position}function c(a,b){return"function"==typeof a.bind?a.bind(b):function(){a.apply(b,arguments)}}function d(b,d){this.$el=b,this.$el.css("position","relative"),this.opts=d;var e=a("<canvas class='gradientPicker-preview'></canvas>");this.$el.append(e);var g=e[0];g.width=this.opts.previewWidth,g.height=this.opts.previewHeight,this.g2d=g.getContext("2d");var h=a("<div class='gradientPicker-ctrlPts'></div>");h.css("width",this.opts.previewWidth),this.$el.append(h),this.$ctrlPtContainer=h,this.updatePreview=c(this.updatePreview,this),this.controlPoints=[],this.ctrlPtConfig=new f(this.$el,d);for(var i=0;i<d.controlPoints.length;++i){var j=this.createCtrlPt(d.controlPoints[i]);this.controlPoints.push(j)}this._maybeLockCtrlPoints(),this.docClicked=c(this.docClicked,this),this.destroyed=c(this.destroyed,this),a(document).bind("click",this.docClicked),this.$el.bind("destroyed",this.destroyed),this.previewClicked=c(this.previewClicked,this),e.click(this.previewClicked),this.updatePreview()}function e(b,d,e,f,g){if(this.$el=a("<div class='gradientPicker-ctrlPt'></div>"),b.append(this.$el),this.$parentEl=b,this.configView=g,"string"==typeof d?(d=d.split(" "),this.position=parseFloat(d[1])/100,this.color=d[0]):(this.position=d.position,this.color=d.color),this.listener=f,this.outerWidth=this.$el.outerWidth(),this.$el.css("background-color",this.color),"horizontal"==e){var h=(b.width()-this.$el.outerWidth())*this.position;this.$el.css("left",h)}else{var i=(b.height()-this.$el.outerHeight())*this.position;this.$el.css("top",i)}this.drag=c(this.drag,this),this.stop=c(this.stop,this),this.clicked=c(this.clicked,this),this.colorChanged=c(this.colorChanged,this),this.$el.draggable({axis:"horizontal"==e?"x":"y",drag:this.drag,stop:this.stop,containment:b}),this.$el.css("position","absolute"),this.$el.click(this.clicked)}function f(b,d){this.$el=a('<div class="gradientPicker-ptConfig" style="visibility: hidden"></div>'),b.append(this.$el);var e=a('<input class="color-chooser"></input>');this.$el.append(e);var f=a("<div class='gradientPicker-close'></div>");this.$el.append(f),this.colorChanged=c(this.colorChanged,this),this.removeClicked=c(this.removeClicked,this),e.alphaColorPicker(),e.wpColorPicker("option","clear",!1);var h=e.wpColorPicker("instance"),i=h.options.change,j=this;e.wpColorPicker("option","change",function(a,b){i(a,b),j.colorChanged(a,b)}),this.$cpicker=e,this.opts=d,this.visible=!1,f.click(this.removeClicked),this.$cpicker.parents(".wp-picker-container:first").find(".wp-color-result").off("click"),this.onChangePosition=c(this.onChangePosition,this),this.position=new g,this.position.onChangePosition(this.onChangePosition),this.$cpicker.closest(".wp-picker-input-wrap").after(this.position.getControls())}function g(){this.$positionParent=a('<span class="wp-picker-input-wrap wp-picker-position"><label><span class="screen-reader-text">Control point position</span><input class="point-position" type="number" min="0" max="100" step="1" size="3">%</label></span>'),this.$input=this.$positionParent.find(".point-position")}if(window.The7Options||(window.The7Options={}),!window.The7Options.gradientPicker){window.The7Options.gradientPicker=function(b){var c=a(b);c.gradientPicker({change:function(a,b){var c=parseInt(b.find(".of-gradient_picker-angle").val())+"deg",d=a.map(function(a){return a.color+" "+(100*a.position|0)+"%"}),e=[c].concat(d);b.find(".of-gradient_picker-value").val(e.join("|")),b.siblings(".of-gradient_picker-preview-box").first().css("background-image","linear-gradient("+e.join(",")+")")},controlPoints:c.find(".of-gradient_picker-value").val().split("|").slice(1),previewWidth:252,previewHeight:25}),c.find(".of-gradient_picker-angle").on("change.of-slider-slide",function(){c.gradientPicker("update",{})})},a.event.special.destroyed||(a.event.special.destroyed={remove:function(a){a.handler&&a.handler()}});var h="",i=window.navigator.userAgent;h=i.indexOf("WebKit")>=0?"-webkit-":i.indexOf("Mozilla")>=0?"-moz-":i.indexOf("Microsoft")>=0?"-ms-":"",d.prototype={docClicked:function(){this.ctrlPtConfig.hide()},createCtrlPt:function(a){return new e(this.$ctrlPtContainer,a,this.opts.orientation,this,this.ctrlPtConfig)},destroyed:function(){a(document).unbind("click",this.docClicked)},updateOptions:function(b){a.extend(this.opts,b),this.updatePreview()},updatePreview:function(){var a=[];this.controlPoints.sort(b);for(var c=this.g2d.createLinearGradient(0,0,this.g2d.canvas.width,0),d=0;d<this.controlPoints.length;++d){var e=this.controlPoints[d];c.addColorStop(e.position,e.color),a.push({position:e.position,color:e.color})}if(this.g2d.fillStyle=c,this.g2d.fillRect(0,0,this.g2d.canvas.width,this.g2d.canvas.height),this.opts.generateStyles)var f=this._generatePreviewStyles();this.opts.change(a,this.$el,f)},removeControlPoint:function(a){if(!this.ctrlPointsIsLocked){var b=this.controlPoints.indexOf(a);b!=-1&&(this.controlPoints.splice(b,1),a.$el.remove()),this._maybeLockCtrlPoints()}},previewClicked:function(c){var d=a(c.target).offset(),e=c.pageX-d.left,f=c.pageY-d.top,g=this.g2d.getImageData(e,f,1,1),h="rgb("+g.data[0]+","+g.data[1]+","+g.data[2]+")",i=this.createCtrlPt({position:e/this.g2d.canvas.width,color:h});this.controlPoints.push(i),this.controlPoints.sort(b),this._maybeLockCtrlPoints()},_generatePreviewStyles:function(){for(var a=this.opts.type+"-gradient("+("linear"==this.opts.type?this.opts.fillDirection+", ":""),b=!0,c=0;c<this.controlPoints.length;++c){var d=this.controlPoints[c];b?b=!1:a+=", ",a+=d.color+" "+(100*d.position|0)+"%"}a+=")";var e=[a,h+a];return e},_maybeLockCtrlPoints:function(){this.controlPoints.length<=this.opts.minCtrlPts?(this.ctrlPtConfig.lockCtrlPoints(),this.ctrlPointsIsLocked=!0):(this.ctrlPtConfig.unlockCtrlPoints(),this.ctrlPointsIsLocked=!1)}},e.prototype={changePosition:function(a){this.position=a,this.listener.updatePreview(),this.$el.css("left",this.position*(this.$parentEl.width()-this.outerWidth))},drag:function(a,b){var c=b.position.left;this.position=c/(this.$parentEl.width()-this.outerWidth),this.listener.updatePreview(),this.configView.setPosition(this.position)},stop:function(a,b){this.listener.updatePreview(),this.configView.show(this.$el.position(),this.color,this)},clicked:function(a){return this.configView.show(this.$el.position(),this.color,this),a.stopPropagation(),!1},colorChanged:function(a){this.color=a,this.$el.css("background-color",this.color),this.listener.updatePreview()},removeClicked:function(){this.listener.removeControlPoint(this),this.listener.updatePreview()}},f.prototype={show:function(a,b,c){this.listener=c,this.$el.css("visibility","visible"),this.$cpicker.wpColorPicker("color",b),this.$cpicker.trigger("input"),this.visible||this.$cpicker.wpColorPicker("open"),"horizontal"===this.opts.orientation?this.$el.css("left",0):this.$el.css("top",a.top),this.visible=!0,this.setPosition(c.position)},hide:function(){this.visible&&(this.$el.css("visibility","hidden"),this.visible=!1)},colorChanged:function(a,b){var c=b.color.toString();this.listener.colorChanged(c)},removeClicked:function(){this.listener.removeClicked(),this.hide()},lockCtrlPoints:function(){this.$el.addClass("gradientPicker-ctrlPointsLocked")},unlockCtrlPoints:function(){this.$el.removeClass("gradientPicker-ctrlPointsLocked")},setPosition:function(a){this.position.setPosition(a)},onChangePosition:function(a){a=parseInt(a),isNaN(a)||(a=window.Math.max(0,a),a=window.Math.min(100,a),this.listener.changePosition(a/100))}},g.prototype={getControls:function(){return this.$positionParent},setPosition:function(a){this.$input.val(window.Math.round(100*a))},getPosition:function(){return 0|this.$input.val()},onChangePosition:function(a){this.$input.on("change",{callback:a},this.changePosition)},changePosition:function(b){b.data.callback(a(this).val())}};var j={init:function(b){b=a.extend({controlPoints:["#FFF 0%","#000 100%"],minCtrlPts:2,orientation:"horizontal",type:"linear",fillDirection:"left",generateStyles:!0,previewWidth:200,previewHeight:20,change:function(){}},b),this.each(function(){var c=a(this),e=new d(c,b);c.data("gradientPicker-sel",e)})},update:function(b){this.each(function(){var c=a(this),d=c.data("gradientPicker-sel");null!=d&&d.updateOptions(b)})}};a.fn.gradientPicker=function(a,b){"string"==typeof a&&"init"!==a?j[a].call(this,b):(b=a,j.init.call(this,b))}}}(jQuery),function(a){"use strict";window.The7Options||(window.The7Options={}),window.The7Options.iconsPicker||(window.The7Options.iconsPicker=function(b){function c(){if("undefined"==typeof window.The7Options.iconsPicker.$iconsListCache)return window.The7Options.iconsPicker.$iconsListCache=a(),void a.post(ajaxurl,{action:"the7_get_icons_for_icons_picker"}).done(function(a){var b=a;if(b){var c="";for(var d in b){c+='<p class="of-icons_picker-list-group">'+d+"</p>";for(var e in b[d]){var f=b[d][e];c+='<li data-icon="'+f+'" title="'+f+'"><i class="moon-icon '+f+'"></i><label class="moon-icon">'+f+"</label></li>"}}window.The7Options.iconsPicker.$iconsListCache=window.The7Options.iconsPicker.$iconsListCache.add(c)}})}function d(a){a.attr("class","selected").siblings("li").removeAttr("class")}function e(a){a.removeClass(k).addClass(l)}function f(a){a.removeClass(l).addClass(k)}function g(a){return a.hasClass(l)}function h(b){var c=b.removeClass(k+" "+l).attr("class").split(" ").join(".");e(a(c))}var i=a(b),j=a(".of-icons_picker-search",i),k="of-icons_picker-list-sub-is-opened",l="of-icons_picker-list-sub-is-closed";c(),a(".selector-button",i).on("click",function(){var b=a(this),c=b.siblings(".of-icons_picker-list-sub");if(g(i)){if(h(i),f(i),!b.data("icons-loaded")){"undefined"!=typeof window.The7Options.iconsPicker.$iconsListCache&&(b.data("icons-loaded",!0),c.append(window.The7Options.iconsPicker.$iconsListCache.clone()));var k=b.closest(".of-icons_picker-selector").attr("data-icon");d(c.find('li[data-icon="'+k+'"]').first())}j.focus().val("").trigger("change")}else e(i)}),a(".of-icons_picker-list-sub",i).on("click","li",function(){var b=a(this),c=b.attr("data-icon"),f=b.parents(".of-icons_picker-selector");i.find("input.of-icons_picker-value").val(c),d(b),f.find("> i").removeAttr("class").attr("class",b.find("> i").attr("class")),e(i)}),j.on("change keyup",function(){var b=a(this),c=b.val();c?b.siblings("p, li").hide().filter('li[data-icon*="'+c+'"]').show():b.siblings(":hidden").show()})})}(jQuery);