jQuery(function(a){function b(a,b){this.sitekey=a,this.element=b,this.captchaObj=null}function c(b,c,d){a('input[type="hidden"]',b).last().validationEngine("showPrompt",c,d,"inline")}var d={render:function(){},getResponse:function(){return!0},reset:function(){}};b.prototype.render=function(){var a=this;grecaptcha.ready(function(){a.captchaObj=grecaptcha.render(a.element,{sitekey:a.sitekey})})},b.prototype.getResponse=function(){return grecaptcha.getResponse(this.captchaObj)},b.prototype.reset=function(){grecaptcha.reset(this.captchaObj)},a.fn.dtInitContactForm=function(){return this.each(function(){var e=a(this),f="";f=e.hasClass("privacy-form")?'<p class="dt-privacy-message">'+dtLocal.contactMessages.terms+"<p>":"";var g=d;dtLocal.captchaSiteKey&&(g=new b(dtLocal.captchaSiteKey,e.find(".the7-g-captcha")[0])),g.render(),e.validationEngine({binded:!1,promptPosition:"inline",scroll:!1,autoHidePrompt:!1,maxErrorsPerField:1,custom_error_messages:{required:{message:dtLocal.contactMessages.required+f}},fadeDuration:500,addPromptClass:"run-animation",onAjaxFormComplete:function(){},addSuccessCssClassToField:"field-success",onBeforeAjaxFormValidation:function(b,c){var d=a(b);d.find(".formError").removeClass("first"),d.find("input").removeClass("error-field"),d.find("textarea").removeClass("error-field")},onFailure:function(b,c){var d=a(b);d.find(".formError .close-message").length<=0&&d.find(".formError").append('<span class="close-message"></span>')},onValidationComplete:function(b,d){var e=a(b);if(e.find(".greenPopup").length>0&&e.find(".greenPopup").remove(),e.find(".formError").removeClass("first"),e.find("input").removeClass("error-field"),e.find("textarea").removeClass("error-field"),e.find(".formError").each(function(b,c){a(c).eq(b).addClass("first"),a(c).prev().addClass("error-field")}),a(".formError .close-message").remove(),e.find(".formError .close-message").length<=0&&e.find(".formError").append('<span class="close-message"></span>'),e.find("input.the7-form-terms").hasClass("field-success")&&e.find(".dt-privacy-message").addClass("hide-privacy-message"),d){var f=g.getResponse();if(!f)return void c(e,dtLocal.contactMessages.fillTheCaptchaError,"error");var h={widget_id:a('input[name="widget_id"]',e).val(),send_message:a('input[name="send_message"]',e).val(),security_token:a('input[name="security_token"]',e).val(),gcaptcha_token:f,fields:{}};e.find('input[type="text"], textarea').each(function(){var b=a(this);h.fields[b.attr("name")]=b.val()}),a.post(dtLocal.REST.baseUrl+dtLocal.REST.endpoints.sendMail,h,function(d){var f,h=a(b),i=d.success?"pass":"error";c(h,d.errors,i),e.find(".formError").addClass("field-success"),h.validationEngine("showPrompt","","","topRight"),g.reset(),d.success&&(h.find('input[type="text"], textarea').val(""),h.find('input[type="checkbox"]').removeProp("checked"),e.find(".formError .close-message").length<=0&&(e.find(".formError").append('<span class="close-message"></span>'),e.find(".formError .close-message").on("click",function(){e.find(".greenPopup").remove(),clearTimeout(f)})),clearTimeout(f),f=setTimeout(function(){e.find(".greenPopup").remove()},11e3))})}}}),e.find(".dt-btn.dt-btn-submit").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.submit()}),e.find(".clear-form").on("click",function(b){b.preventDefault();var c=a(this).parents("form");c.length>0&&(c.find('input[type="text"], textarea').val(""),c.validationEngine("hide"))})})},a("form.dt-contact-form.dt-form").dtInitContactForm()});