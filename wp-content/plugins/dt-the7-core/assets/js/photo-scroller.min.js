jQuery(document).ready(function(a){function b(a){a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()}function c(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var d=a("body"),e=a(window),f=(a("#main-slideshow"),a("#wpadminbar").height(),a(".masthead:not(.side-header):not(.side-header-v-stroke)").height(),d.hasClass("transparent")),g=a(".floating-navigation-below-slider").exists(),h=a(".masthead");a.fn.exists=function(){return a(this).length>0},a.fn.loaded=function(b,c,d){var e=this.length;return e>0?this.each(function(){var d=this,f=a(d);f.on("load.dt",function(d){a(this).off("load.dt"),"function"==typeof b&&b.call(this),--e<=0&&"function"==typeof c&&c.call(this)}),d.complete&&void 0!==d.complete?f.trigger("load.dt"):d.src=d.src}):d?("function"==typeof c&&c.call(this),this):void 0},a.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},a.extend(jQuery.easing,{easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}}),a.thePhotoSlider=function(b,c){var d=a(b).data("thePhotoSlider");d?d.update():this._init(b,c)},a.thePhotoSlider.defaults={mode:{type:"slider"},responsive:!0,height:!1,width:!1,sidePaddings:0,storeHTML:!1,autoPlay:!1,threshold:20,resizeImg:!1,imageScaleMode:"none",imageAlignCenter:!1,collapsePoint:700,transformEnable:!0,calcAutoHeight:!1,columBasedResize:!1,resizeHeight:!1},a.thePhotoSlider.prototype={_init:function(b,c){var d=this;if(d.st=a.extend({},a.thePhotoSlider.defaults,c),d.ev=a(d),d.autoPlay={enabled:!1,delay:2e3,loop:!0},d.currSlide=0,d.noSlide=!0,d.lockLeft=!0,d.lockRight=!0,d.sliderLock=!1,d.lockTimeout=!1,d.wrap={},d.wrap.$el=a(b),d.wrap.width=0,d.wrap.height=!1,d.wrap.$el.data("thePhotoSlider",d),d.viewport=d.wrap.$el.find(".ts-viewport"),d.cont={},d.cont.$el=d.viewport.find(".ts-cont"),d.cont.width=0,d.cont.startX=0,d.cont.instantX=0,d.slides={},d.slides.$items=d.cont.$el.children(),d.slides.number=d.slides.$items.length,d.slides.position=[],d.slides.width=[],d.slides.isLoaded=[],d.drag={},d.drag.isMoving=!1,d.drag.startX=0,d.drag.startY=0,d.drag.offsetX=0,d.drag.offsetY=0,d.drag.lockX=!1,d.drag.lockY=!1,d.features={},d._featureDetection(),d.st.storeHTML&&(d.origHTML=d.wrap.$el.html()),d._buildHTML(),d._calcSliderSize(),d._resizeImage(),d.wrap.height||d.wrap.$el.addClass("ts-autoHeight"),d._setSliderWidth(),d._adjustSlides(),d._setSliderHeight(),d.slideTo(0,!0),d.noSlide||d._bindEvents(),setTimeout(function(){d.wrap.$el.addClass("ts-ready"),d.ev.trigger("sliderReady")},20),d.st.responsive)if("onorientationchange"in window){var e=window.orientation;a(window).on("orientationchange",function(a){var b=window.orientation;b!==e&&(e=b,d.update())})}else{var f;a(window).on("resize",function(a){clearTimeout(f),f=setTimeout(function(){d.update()},200)})}d.st.autoPlay.enabled&&d.play()},_featureDetection:function(){var a,b=this,c=document.createElement("div").style,d=["webkit","Moz","ms","O"];for(b.features.vendor="",i=0;i<d.length;i++)a=d[i],!b.features.vendor&&a+"Transform"in c&&(b.features.vendor="-"+a.toLowerCase()+"-");navigator.userAgent.indexOf("Safari")==-1||navigator.userAgent.indexOf("Chrome")!=-1||"ontouchstart"in window?"undefined"!=typeof Modernizr&&(b.features.css3d=Modernizr.csstransforms3d):b.features.css3d=Modernizr.csstransforms3d},_buildHTML:function(){var a=this;"centered"===a.st.mode.type&&a.wrap.$el.addClass("ts-centered"),"slider"===a.st.mode.type?a.slides.$items.addClass("ts-slide"):"scroller"!==a.st.mode.type&&"centered"!==a.st.mode.type&&"carousel"!==a.st.mode.type||a.slides.$items.addClass("ts-cell")},_calcSliderSize:function(){var a=this,b=typeof a.st.width,c=typeof a.st.height,d=!1,e=!1;a.wrap.width=a.wrap.$el.width(),"function"===b?d=a.st.width(this):"number"===b&&(d=a.st.width),"function"===c?e=a.st.height(this):"number"===c&&(e=a.st.height),e&&!d?a.wrap.height=e:e&&d?a.wrap.height=e*a.wrap.width/d:a.wrap.height=!1},_resizeImage:function(){var b=this;a(b.slides.$items[i]);b.st.resizeImg===!0&&(b.cont.width=0,b.slides.$items.each(function(c){var d=a(b.slides.$items[c]),e=d.find("img"),f=b.st.imageAlignCenter,g=b.st.imageScaleMode;if(e){var h=parseInt(e.attr("width")),i=parseInt(e.attr("height"));if("none"!==g){var j,k,l,m,n,o=b.wrap.width,p=b.wrap.height,q={};"fit-if-smaller"===g&&(h>o||i>p)&&(g="fit"),"fill"===g||"fit"===g?(j=o/h,k=p/i,l="fill"==g?j>k?j:k:"fit"==g?j<k?j:k:1,m=Math.ceil(h*l,10),n=Math.ceil(i*l,10)):(m=h,n=i),"none"!==g&&(q.width=m,q.height=n),f&&(q.marginLeft=Math.floor((o-m)/2),q.marginTop=Math.floor((p-n)/2)),e.css(q)}}}))},_setSliderWidth:function(){var a=this;"centered"!==a.st.mode.type?a.viewport.css({width:a.wrap.width}):a.wrap.width>a.st.collapsePoint?a.wrap.$el.removeClass("ts-collapsed"):a.wrap.$el.addClass("ts-collapsed")},_setSliderHeight:function(){var b=this;if("number"==typeof b.wrap.height)b.viewport.css({height:b.wrap.height});else if("scroller"===b.st.mode.type||"centered"===b.st.mode.type||"carousel"===b.st.mode.type){if(b.st.resizeHeight){var c=a(b.viewport).find("article").map(function(){return a(this).height()}).get(),d=Math.max.apply(null,c);b.viewport.css({height:d}),a(b.slides.$items).css({height:d})}"0px"!==b.viewport.css("height")&&0!=b.viewport.css("height")&&b.viewport.css("height")||b.viewport.css({height:Math.max.apply(null,b.slides.height)})}else if(b.slides.isLoaded[b.currSlide]){var e=a(b.slides.$items[b.currSlide]).height();e>0?b.viewport.css({height:e}):b.viewport.css({height:"auto"})}else{var e=a(b.slides.$items[b.currSlide]).height();e>0?b.viewport.css({height:e}):b.viewport.css({height:auto})}},_adjustSlides:function(){var b=this;if("slider"===b.st.mode.type)b.cont.width=0,b.slides.$items.each(function(c){var d=a(b.slides.$items[c]),e={};b.slides.position[c]=-b.cont.width-b.st.sidePaddings/2,b.cont.width=b.cont.width+b.wrap.width+b.st.sidePaddings,e.left=-b.slides.position[c],b.slides.isLoaded[c]||d.find("img").loaded(!1,function(){b.slides.isLoaded[c]=!0,d.addClass("ts-loaded")},!0),d.css(e)});else if("centered"===b.st.mode.type){if(b.cont.width=0,b.slides.contRatio=[],b.slides.ratio=[],b.st.mode.lsMinW||b.st.mode.lsMaxW)var c=b.wrap.width/100*b.st.mode.lsMinW,d=b.wrap.width/100*b.st.mode.lsMaxW;if(b.st.mode.ptMinW||b.st.mode.ptMaxW)var e=b.wrap.width/100*b.st.mode.ptMinW,f=b.wrap.width/100*b.st.mode.ptMaxW;b.slides.$items.each(function(g){var h=a(b.slides.$items[g]),i={},j=h.attr("data-width")?parseFloat(h.attr("data-width")):h.width(),k=h.attr("data-height")?parseFloat(h.attr("data-height")):h.height();b.slides.contRatio[g]||(b.slides.contRatio[g]=j/k,b.slides.contRatio[g]>1?h.addClass("ts-ls"):h.addClass("ts-pt")),b.wrap.width>b.st.collapsePoint?(k=b.wrap.height,j=b.wrap.height*b.slides.contRatio[g],(c||d)&&j>k?c===d||j>d?j=d:j<c&&(j=c):(e||f)&&j<=k&&(e===f||j>f?j=f:j<e&&(j=e)),b.slides.ratio[g]=j/k,i.height=b.wrap.height,i.width=b.slides.width[g]=j,b.slides.position[g]=-b.cont.width,b.cont.width=b.cont.width+b.slides.width[g]+b.st.sidePaddings,i.left=-b.slides.position[g]):(k=i.height=b.wrap.height,j=b.slides.width[g]=i.width=b.wrap.width,b.slides.ratio[g]=j/k,b.slides.position[g]=-b.cont.width,b.cont.width=b.cont.width+b.slides.width[g],i.left=-b.slides.position[g]),b.slides.position[g]=b.slides.position[g]-b.slides.width[g]/2,b.slides.ratio[g]>b.slides.contRatio[g]?(h.removeClass("ts-narrow"),h.addClass("ts-wide")):(h.removeClass("ts-wide"),h.addClass("ts-narrow")),b.slides.isLoaded[g]||h.find("img").loaded(!1,function(){b.slides.isLoaded[g]=!0,h.addClass("ts-loaded")},!0),h.css(i)})}else if("scroller"===b.st.mode.type){if(b.cont.width=0,b.slides.ratio=[],"number"!=typeof b.wrap.height&&(b.slides.height=[]),"undefined"!=typeof b.slides.$items.parents(".slider-wrapper").attr("data-max-width"))var g=b.slides.$items.parents(".slider-wrapper").width()*parseFloat(b.slides.$items.parents(".slider-wrapper").attr("data-max-width"))/100;b.slides.$items.each(function(c){var d=a(b.slides.$items[c]),e={},f=d.attr("data-width")?parseFloat(d.attr("data-width")):d.width(),h=d.attr("data-height")?parseFloat(d.attr("data-height")):d.height();if(f>g)var f=g;f>0&&h>0?b.slides.ratio[c]=f/h:b.slides.ratio[c]=1,"number"==typeof b.wrap.height?(b.slides.width[c]=b.wrap.height*b.slides.ratio[c],e.width=b.slides.width[c],e.height=b.slides.width[c]/b.slides.ratio[c]):f>0&&h>0?(b.slides.width[c]||(e.width=b.slides.width[c]=f),b.slides.height[c]||b.st.resizeHeight||(e.height="100%"),b.slides.height[c]=h):(d.css("height","auto"),b.slides.width[c]=d.width(),b.slides.height[c]=d.height(),e.height="100%"),b.st.columBasedResize&&(b.slides.width[c]=d.width()),b.slides.position[c]=-b.cont.width,b.cont.width=b.cont.width+b.slides.width[c],c<b.slides.number-1&&(b.cont.width+=b.st.sidePaddings),e.left=-b.slides.position[c],b.slides.isLoaded[c]||d.find("img").loaded(!1,function(){b.slides.isLoaded[c]=!0,d.addClass("ts-loaded")},!0),d.css(e)})}else if("carousel"===b.st.mode.type){b.cont.width=0;for(var h=b.st.mode.perView,i=b.st.mode.minWidth,j=b.wrap.width/h;j<i&&h>.31;)h--,h<1&&(h=1),j=b.wrap.width/h;b.perView=h,b.slides.$items.each(function(c){var d=a(b.slides.$items[c]),e={};b.slides.position[c]=-b.cont.width,b.cont.width=b.cont.width+j,e.width=j-b.st.sidePaddings,e.left=-b.slides.position[c]+b.st.sidePaddings/2,d.css(e)})}"centered"!==b.st.mode.type&&b.cont.width<=b.wrap.width?(b.noSlide=!0,b._transitionStart(0,0,"easeInOutSine",!0),b.cont.$el.css("left",(b.wrap.width-b.cont.width)/2),b.lockLeft=!0,b.lockRight=!0,b.ev.trigger("updateNav")):"centered"===b.st.mode.type&&b.slides.number<2?(b.noSlide=!0,b._transitionStart(0,0,"easeInOutSine",!0),b.cont.$el.css("left",-b.cont.width/2),b.lockLeft=!0,b.lockRight=!0,b.ev.trigger("updateNav")):(b.noSlide=!1,b.cont.$el.css("left",""),b.lockRight?(b.lockLeft=!1,b.lockRight=!0,b.ev.trigger("lockRight").trigger("updateNav")):b.currSlide<=0?(b.lockLeft=!0,b.lockRight=!1,b.ev.trigger("lockLeft").trigger("updateNav")):b.currSlide>0&&(b.lockLeft=!1,b.lockRight=!1,b.ev.trigger("updateNav")))},_unifiedEvent:function(a){return void 0!==a.originalEvent.touches&&a.originalEvent.touches[0]&&(a.pageX=a.originalEvent.touches[0].pageX,a.pageY=a.originalEvent.touches[0].pageY),a},_unifiedX:function(){var a=this,b=0,c=a.cont.$el.css("transform");if(c)var d=c.split(", ");return b=a.features.css3d&&"none"!==c&&"matrix(1"===d[0]?parseFloat(d[4]):a.features.css3d&&"none"!==c&&"matrix3d(1"===d[0]?parseFloat(d[12]):parseFloat(a.cont.$el.css("left"))},_bindEvents:function(){var b=this;b.st.transformEnable&&b.wrap.$el.on("mousedown.theSlider touchstart.theSlider",function(c){"touchstart"!=c.type&&c.preventDefault(),b._onStart(b._unifiedEvent(c)),a(document).on("mousemove.theSlider touchmove.theSlider",function(a){b._onMove(b._unifiedEvent(a))}),a(document).on("mouseup.theSlider mouseleave.theSlider touchend.theSlider touchcancel.theSlider",function(c){a(document).off("mousemove.theSlider mouseup.theSlider mouseleave.theSlider touchmove.theSlider touchend.theSlider touchcancel.theSlider"),b._onStop(b._unifiedEvent(c))})})},_unbindEvents:function(){var b=this;b.wrap.$el.off("mousedown.theSlider touchstart.theSlider"),a(document).off("mousemove.theSlider mouseup.theSlider mouseleave.theSlider touchmove.theSlider touchend.theSlider touchcancel.theSlider")},_onStart:function(a){var b=this;b.drag.isMoving||b.sliderLock||(b.drag.isMoving=!0,b.drag.startX=a.pageX,b.drag.startY=a.pageY,b.cont.startX=b._unifiedX(),b.drag.offsetX=0,b.drag.offsetY=0,b.drag.lockX=!1,b.drag.lockY=!1)},_onMove:function(a){var b=this,c=0;b.ev.trigger("psOnMove"),b.drag.isMoving&&(b.drag.offsetX=a.pageX-b.drag.startX,b.drag.offsetY=a.pageY-b.drag.startY,Math.abs(b.drag.offsetX)>=b.st.threshold-1&&Math.abs(b.drag.offsetX)>Math.abs(b.drag.offsetY)&&!b.drag.lockX?(b.drag.lockX=!1,b.drag.lockY=!0,"touchmove"==a.type&&(b.drag.offsetY=0)):Math.abs(b.drag.offsetY)>=b.st.threshold-1&&Math.abs(b.drag.offsetX)<Math.abs(b.drag.offsetY)&&!b.drag.lockY&&(b.drag.lockX=!0,b.drag.lockY=!1,"touchmove"==a.type&&(b.drag.offsetX=0)),b.drag.lockX&&"touchmove"==a.type?b.drag.offsetX=0:b.drag.lockY&&"touchmove"==a.type&&(b.drag.offsetY=0),b.drag.lockY&&a.preventDefault(),b.cont.instantX=b.cont.startX+b.drag.offsetX,c=b.cont.instantX<0&&b.cont.instantX>-b.cont.width+b.viewport.width()?b.cont.instantX:b.cont.instantX>=0?b.cont.instantX/4:-b.cont.width+b.viewport.width()+(b.cont.width-b.viewport.width()+b.cont.instantX)/4,b._doDrag(c)),b.st.autoPlay.enabled&&b.pause()},_onStop:function(a){var b=this;return b.ev.trigger("psOnStop"),b.drag.isMoving&&(b.cont.instantX=b.cont.startX+b.drag.offsetX,Math.abs(b.drag.offsetX)>b.st.threshold&&(b.wrap.$el.addClass("ts-interceptClicks"),b.wrap.$el.one("click.preventClick",function(a){a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation()}),window.setTimeout(function(){b.wrap.$el.off("click.preventClick"),b.wrap.$el.removeClass("ts-interceptClicks")},301)),b._autoAdjust(),b._setSliderHeight(),b.cont.startX=0,b.cont.instantX=0,b.drag.isMoving=!1,b.drag.startX=0,b.drag.startY=0,b.drag.offsetX=0,b.drag.offsetY=0,b.drag.lockX=!1,b.drag.lockY=!1),b.st.autoPlay.enabled&&b.play(),!1},_doDrag:function(a){var b=this;if(b.st.transformEnable)if(b.features.css3d){var c={};c[b.features.vendor+"transform"]="translate3d("+a+"px,0,0)",c.transform="translate3d("+a+"px,0,0)",c[b.vendor+"transition"]="",c.transition="",b.cont.$el.css(c)}else b.cont.$el.css({left:a})},_calcCurrSlide:function(a){var b=this,c=b.slides.number-1;return b.slides.$items.each(function(d){if(a>b.slides.position[d])return c=d-1,!1}),c<0&&(c=0),c},_isRightExceed:function(a){var b=this,c=0;return c="centered"===b.st.mode.type?b.slides.position[b.slides.number-1]:-b.cont.width+b.viewport.width(),a<c},_autoAdjust:function(){var a=this,b=0,c=0,d=a.slides.number-1;if(a.cont.instantX>=0)b=a.slides.position[0],a.currSlide=0,a.lockLeft=!0,a.lockRight=!1,a.ev.trigger("lockLeft").trigger("updateNav");else if(a._isRightExceed(a.cont.instantX))b="centered"===a.st.mode.type?a.slides.position[a.slides.number-1]:-a.cont.width+a.viewport.width(),a.currSlide=a._calcCurrSlide(b),a.lockLeft=!1,a.lockRight=!0,a.ev.trigger("lockRight").trigger("updateNav");else if(a.drag.offsetX<-a.st.threshold){if(d=a._calcCurrSlide(a.cont.instantX)+1,a._isRightExceed(a.slides.position[d])){for(b=-a.cont.width+a.viewport.width(),i=d;i>=0;i--)if(!a._isRightExceed(a.slides.position[i])){d=i;break}a.lockLeft=!1,a.lockRight=!0,a.ev.trigger("lockRight").trigger("updateNav")}else b=a.slides.position[d],d<a.slides.number-1?(a.lockLeft=!1,a.lockRight=!1,a.ev.trigger("updateNav")):(a.lockLeft=!1,a.lockRight=!0,a.ev.trigger("lockRight").trigger("updateNav"));a.currSlide=d}else a.drag.offsetX>a.st.threshold?(a.currSlide=a._calcCurrSlide(a.cont.instantX),b=a.slides.position[a.currSlide],a.currSlide>0?(a.lockLeft=!1,a.lockRight=!1,a.ev.trigger("updateNav")):(a.lockLeft=!0,a.lockRight=!1,a.ev.trigger("lockLeft").trigger("updateNav"))):b=a.cont.startX;c=10*Math.sqrt(Math.abs(a.cont.instantX-b))+100,a._transitionStart(b,c,"easeOutSine")},_transitionStart:function(b,c,d,e){var f=this,g={},h=a.rsCSS3Easing[d];return f._transitionEnd(),f.ev.trigger("beforeTransition"),e?(f.st.transformEnable&&(f.features.css3d?(g[f.features.vendor+"transform"]="translate3d("+b+"px,0,0)",g.transform="translate3d("+b+"px,0,0)"):g.left=b),f.cont.$el.css(g),!1):(f.ev.trigger("beforeTransition"),f.sliderLock=!0,clearTimeout(f.lockTimeout),f.lockTimeout=setTimeout(function(){f.sliderLock=!1,f.ev.trigger("afterTransition")},c),void(f.st.transformEnable&&(f.features.css3d?(g[f.features.vendor+"transform"]="translate3d("+b+"px,0,0)",g.transform="translate3d("+b+"px,0,0)",g[f.features.vendor+"transition"]="all "+c+"ms "+h,g.transition="all "+c+"ms "+h,f.cont.$el.css(g),f.cont.$el.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){})):f.cont.$el.animate({left:b},c,d))))},_transitionEnd:function(){var a=this;if(a.ev.trigger("psTransitionEnd"),a.st.transformEnable)if(a.features.css3d){var b={};b[a.vendor+"transition"]="",b.transition="",a.cont.$el.css(b)}else a.cont.$el.stop()},_transitionCancel:function(){var a=this,b=a.cont.$el.position().left,c={};if(c[a.vendor+"transition"]="",c.transition="",a.cont.$el.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),a.st.transformEnable)if(a.features.css3d){var d=a.cont.$el.css("transform"),e=d.split(", ");b=e[4],c[a.features.vendor+"transform"]="translate3d("+b+"px,0,0)",c.transform="translate3d("+b+"px,0,0)",a.cont.$el.css(c)}else a.cont.$el.stop(),a.cont.$el.animate({left:b},duration,easing)},pause:function(){var a=this;a.ev.trigger("autoPlayPause"),a._autoPlayRunning=!1,a._autoPlayTimeout&&(clearTimeout(a._autoPlayTimeout),a._autoPlayTimeout=null)},slideTo:function(a,b){var c=this,d=c.slides.position[a],e=0,f=c.currSlide;return c.pause(),c.ev.trigger("psBeforeAnimStart"),!c.noSlide&&(c._transitionEnd(),d>=c.slides.position[0]?(c.currSlide=0,c.lockLeft=!0,c.lockRight=!1,c.ev.trigger("lockLeft").trigger("updateNav")):c._isRightExceed(d)||a>=c.slides.number-1?("centered"===c.st.mode.type?(d=c.slides.position[a],c.currSlide=a):(d=-c.cont.width+c.viewport.width(),c.currSlide=c._calcCurrSlide(d)),c.lockLeft=!1,c.lockRight=!0,c.ev.trigger("lockRight").trigger("updateNav")):(c.currSlide=a,c.lockLeft=!1,c.lockRight=!1,c.ev.trigger("updateNav")),e=10*Math.sqrt(Math.abs(c.slides.position[f]-d))+100,c._transitionStart(d,e,"easeInOutSine",b),c.st.autoPlay.enabled&&c.play(),void(c.st.calcAutoHeight&&c._setSliderHeight()))},startPlay:function(){var a=this;a.ev.trigger("autoPlayPlay"),a.currSlide+1<=a.slides.number-1&&!a.lockRight?a.slideTo(a.currSlide+1):a.currSlide>=a.slides.number-1&&a.st.autoPlay.loop?a.slideTo(0):a.lockRight&&a.st.autoPlay.loop&&a.slideTo(0)},play:function(){var a=this;a.ev.trigger("autoPlayPlay"),a._autoPlayRunning=!0,a._autoPlayTimeout&&clearTimeout(a._autoPlayTimeout),a._autoPlayTimeout=setTimeout(function(){a.startPlay()},a.st.autoPlay.delay)},slideNext:function(){var a=this;return a.currSlide+1<=a.slides.number-1&&void a.slideTo(a.currSlide+1)},slidePrev:function(){var a=this;if(a.currSlide-1>=0)a.slideTo(a.currSlide-1);else{if(0!=a.currSlide||0!=a.lockLeft)return!1;a.slideTo(a.currSlide)}},update:function(){var a=this;a._calcSliderSize(),a._resizeImage(),a._setSliderWidth(),a._adjustSlides(),a._setSliderHeight(),a._doDrag(),a.noSlide?(a.slideTo(0,!0),a._unbindEvents()):(a.slideTo(a.currSlide,!0),a._bindEvents())}},a.fn.thePhotoSlider=function(b){return this.each(function(){new a.thePhotoSlider(this,b)})};var j=a(".photo-scroller");j.length>0&&(a.fn.photoSlider=function(){function b(a){"37"==a.keyCode?F.noSlide||F.slidePrev():"39"==a.keyCode&&(F.noSlide||F.slideNext())}var c=a(this),j={},k="";$elParent=c.parents(".photo-scroller"),j.$items=c.children("figure"),j.count=j.$items.length,j.$items.each(function(b){var c=a(this),d=c.children().first().remove(),e=d.attr("href"),f=d.children("img"),g=f.attr("src"),h=f.attr("alt")||"",i=f.attr("data-src"),j=(f.attr("data-srcset"),f.attr("class"));if(f.hasClass("lazy-load"))var l="layzr-bg";else var l="";c.find("figcaption").addClass("caption-"+(b+1));var m=a(this).find("figcaption").clone(!0);if(a(".slide-caption").append(m),parseInt($elParent.attr("data-thumb-width"))>0){var n=parseInt($elParent.attr("data-thumb-width")),o=parseInt($elParent.attr("data-thumb-height"));$elParent.removeClass("proportional-thumbs")}else{var n=parseInt(f.attr("width")),o=parseInt(f.attr("height"));$elParent.addClass("proportional-thumbs")}k=k+'<div class="ts-cell" data-width="'+(n+5)+'" data-height="'+(o+10)+'"><div class="ts-thumb-img '+l+'"><img class=" '+j+'" src="'+g+'" data-src="'+i+'" data-srcset="'+i+'" width="'+n+'" height="'+o+'" alt="'+h+'"></div></div>',c.prepend('<div class="ts-slide-img"><img src="'+e+'" width="'+c.attr("data-width")+'" height="'+c.attr("data-height")+'"  alt="'+h+'"></div>')}),$elParent.append('<div class="scroller-arrow prev"><i></i><i></i></div><div class="scroller-arrow next"><i></i><i></i></div>'),c.addClass("ts-cont"),c.wrap('<div class="ts-wrap"><div class="ts-viewport"></div></div>');var l=c.parents(".ts-wrap"),m=e.width(),n=$elParent,o="true"==n.attr("data-autoslide"),p=n.attr("data-delay")&&parseInt(n.attr("data-delay"))>999?parseInt(n.attr("data-delay")):5e3,q="true"===n.attr("data-loop"),r=n.attr("data-thumb-height")?parseInt(n.attr("data-thumb-height"))+10:90,s=n.attr("data-transparency")?n.attr("data-transparency"):.5,t=(a("#wpadminbar").length>0?a("#wpadminbar").height():0,n.attr("data-ls-min")?parseInt(n.attr("data-ls-min")):0),u=n.attr("data-ls-max")?parseInt(n.attr("data-ls-max")):100,v=n.attr("data-ls-fill-dt")?n.attr("data-ls-fill-dt"):"fill",w=n.attr("data-ls-fill-mob")?n.attr("data-ls-fill-mob"):"fit",x=n.attr("data-pt-min")?parseInt(n.attr("data-pt-min")):0,y=n.attr("data-pt-max")?parseInt(n.attr("data-pt-max")):100,z=n.attr("data-pt-fill-dt")?n.attr("data-pt-fill-dt"):"fill",A=n.attr("data-pt-fill-mob")?n.attr("data-pt-fill-mob"):"fit",B=n.attr("data-padding-side")?parseInt(n.attr("data-padding-side")):0;u<=0&&(u=100),y<=0&&(y=100),u<u&&(u=u),y<y&&(y=y),l.addClass("ts-ls-"+v).addClass("ts-ls-mob-"+w),l.addClass("ts-pt-"+z).addClass("ts-pt-mob-"+A),l.find(".ts-slide-img").css({opacity:s}),l.find(".video-icon").css({opacity:s});var C=n.attr("data-padding-top")&&m>760?n.attr("data-padding-top"):0,D=n.attr("data-padding-bottom")&&m>760?n.attr("data-padding-bottom"):0,E=l.find(".ts-viewport");E.css({"margin-top":C+"px","margin-bottom":D+"px"}),e.on("debouncedresize",function(){C=n.attr("data-padding-top")&&e.width()>760?n.attr("data-padding-top"):0,D=n.attr("data-padding-bottom")&&e.width()>760?n.attr("data-padding-bottom"):0,e.width()>760?E.css({"margin-top":C+"px","margin-bottom":D+"px"}):E.css({"margin-top":"0px","margin-bottom":"0px"})});var F=l.thePhotoSlider({mode:{type:"centered",lsMinW:t,lsMaxW:u,ptMinW:x,ptMaxW:y},height:function(){var b=e.height(),c=a("#wpadminbar").height();if(a(".mixed-header").length>0&&!$elParent.hasClass("full-screen"))var f=a(".mixed-header").height();else if($elParent.hasClass("full-screen"))var f=0;else var f=a(".masthead").height();if($elParent.hasClass("full-screen"))var c=0;return d.hasClass("transparent")||l.parents(".photo-scroller").hasClass("full-screen")?window.innerWidth<dtLocal.themeSettings.mobileHeader.secondSwitchPoint?b-C-D-f-c:b-C-D-c:a(".mixed-header").length>0||l.parents(".photo-scroller").hasClass("full-screen")?window.innerWidth<dtLocal.themeSettings.mobileHeader.firstSwitchPoint&&!d.hasClass("responsive-off")?b-C-D-f-c:a(".side-header-h-stroke").length>0?b-C-D-f-c:b-C-D-c:a(".side-header").length>0||l.parents(".photo-scroller").hasClass("full-screen")?window.innerWidth<dtLocal.themeSettings.mobileHeader.firstSwitchPoint&&!d.hasClass("responsive-off")?b-C-D-f-c:b-C-D-c:window.innerWidth<dtLocal.themeSettings.mobileHeader.firstSwitchPoint&&!d.hasClass("responsive-off")?b-C-D-f-c:b-C-D-f-c},sidePaddings:B,autoPlay:{enabled:o,delay:p,loop:q}}).data("thePhotoSlider"),G=a('<div class="ts-wrap"><div class="ts-viewport"><div class="ts-cont ts-thumbs">'+k+"</div></div></div>");l.after(G);var H=G.thePhotoSlider({mode:{type:"scroller"},height:r}).data("thePhotoSlider");if(a(".prev",J).click(function(){F.noSlide||F.slidePrev()}),a(".next",J).click(function(){F.noSlide||F.slideNext()}),F.ev.on("updateNav sliderReady",function(){F.lockRight?a(".next",$elParent).addClass("disabled"):a(".next",$elParent).removeClass("disabled"),F.lockLeft?a(".prev",$elParent).addClass("disabled"):a(".prev",$elParent).removeClass("disabled")}),navigator.userAgent.match(/Trident.*rv\:11\./)&&g&&f){var I=h.attr("style");h.attr("style",I+"; top:"+F.wrap.height+"px !important;")}g&&!navigator.userAgent.match(/Trident.*rv\:11\./)&&(a.isFunction(dtGlobals.resetSizes)&&dtGlobals.resetSizes(F.wrap.height),a.isFunction(dtGlobals.resetMobileSizes)&&dtGlobals.resetMobileSizes(F.wrap.height)),window.addEventListener("keydown",b,!1),F.ev.on("sliderReady beforeTransition",function(){F.slides.$items.removeClass("act"),F.slides.$items.eq(F.currSlide).addClass("act"),H.slides.$items.removeClass("act"),H.slides.$items.eq(F.currSlide).addClass("act"),F.slides.$items.eq(F.currSlide).hasClass("ts-video")?F.slides.$items.parents(".ts-wrap ").addClass("hide-slider-overlay"):F.slides.$items.eq(F.currSlide).find(".ps-link").length>0?F.slides.$items.parents(".ts-wrap ").addClass("hide-slider-overlay"):F.slides.$items.parents(".ts-wrap ").removeClass("hide-slider-overlay");var b=F.slides.$items.eq(F.currSlide).find("figcaption").attr("class");a(".slide-caption > figcaption").removeClass("actCaption"),a(".slide-caption > ."+b).addClass("actCaption")}),F.ev.on("afterTransition",function(){var a=-H._unifiedX(),b=a+H.wrap.width,c=-H.slides.position[F.currSlide],d=c+H.slides.width[F.currSlide];if(c-=50,d+=50,c<a)for(i=H.currSlide;i>=0;i--){c+=50,d-=50;var e=-H.slides.position[i],f=e+H.wrap.width;if(d>f){H.slideTo(i+1);break}0===i&&H.slideTo(0)}else d>b&&H.slideTo(F.currSlide)}),G.addClass("scroller-thumbnails"),H.slides.$items.each(function(b){a(this).on("click",function(c){var d=a(this);d.parents(".ts-wrap").hasClass("ts-interceptClicks")||F.slideTo(b)})}),a(".scroller-thumbnails").layzrInitialisation(),F.slides.$items.each(function(b){a(this).on("click",function(c){var d=a(this);d.parents(".ts-wrap").hasClass("ts-interceptClicks")||F.slideTo(b)})});var J=l.parents(".photo-scroller");F.st.autoPlay.enabled&&a(".auto-play-btn",J).addClass("paused"),a(".auto-play-btn",J).on("click",function(b){b.preventDefault();var c=a(this);c.hasClass("paused")?(c.removeClass("paused"),F.noSlide||F.pause(),F.st.autoPlay.enabled=!1):(c.addClass("paused"),F.noSlide||F.play(),F.st.autoPlay.enabled=!0)})},a(".photoSlider:not(.slider-simple)").photoSlider(),a(".photoSlider").parents(".photo-scroller").css("visibility","visible"),dtGlobals.isWindowsPhone||(a(".full-screen-btn").each(function(){var b=a(this),c=b.parents(".photo-scroller"),d=c.find(".ts-wrap");document.addEventListener("fullscreenchange",function(){if(!document.fullscreen){b.removeClass("act"),c.removeClass("full-screen"),a("body, html").css("overflow","");var e=d.data("thePhotoSlider");"undefined"!=typeof e&&e.update()}},!1),document.addEventListener("mozfullscreenchange",function(){document.mozFullScreen||(b.removeClass("act"),c.removeClass("full-screen"),a("body, html").css("overflow",""))},!1),document.addEventListener("webkitfullscreenchange",function(){if(!document.webkitIsFullScreen){b.removeClass("act"),c.removeClass("full-screen"),a("body, html").css("overflow","");var e=d.data("thePhotoSlider");"undefined"!=typeof e&&e.update()}},!1),e.on("debouncedresize",function(){var a=d.data("thePhotoSlider");"undefined"!=typeof a&&a.update()})}),this.fullScreenMode=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,a(".full-screen-btn").on("click",function(d){d.preventDefault();var e=a(this),f=e.parents(".photo-scroller"),g=f.find(".ts-wrap");f.find(".scroller-thumbnails").data("thePhotoSlider"),g.data("thePhotoSlider");e.parents(".photo-scroller").find("figure").animate({opacity:0},150),e.hasClass("act")?(e.removeClass("act"),c(),f.removeClass("full-screen"),setTimeout(function(){e.parents(".photo-scroller").find("figure").delay(600).animate({opacity:1},300)},300)):(e.addClass("act"),f.addClass("full-screen"),b(document.documentElement),a("body, html").css("overflow","hidden"),setTimeout(function(){e.parents(".photo-scroller").find("figure").delay(600).animate({opacity:1},300)},300));var h=g.data("thePhotoSlider");"undefined"!=typeof h&&h.update()})),j.each(function(){var b=a(this);a(".btn-cntr, .slide-caption",b).css({bottom:parseInt(b.attr("data-thumb-height"))+15}),b.hasClass("hide-thumbs")&&(b.find(".hide-thumb-btn").addClass("act"),a(".scroller-thumbnails",b).css({bottom:-(parseInt(b.attr("data-thumb-height"))+20)}),a(".btn-cntr, .slide-caption",b).css({bottom:"5px"}))}),a(".hide-thumb-btn").on("click",function(b){b.preventDefault();var c=a(this),d=c.parents(".photo-scroller");c.hasClass("act")?(c.removeClass("act"),d.removeClass("hide-thumbs"),a(".scroller-thumbnails",d).css({bottom:0}),a(".btn-cntr, .slide-caption",d).css({bottom:parseInt(d.attr("data-thumb-height"))+15})):(c.addClass("act"),d.addClass("hide-thumbs"),a(".scroller-thumbnails",d).css({bottom:-(parseInt(d.attr("data-thumb-height"))+20)}),a(".btn-cntr, .slide-caption",d).css({bottom:"5px"}))}));var k=a(".rsHomePorthole");if(k.exists()){var l={};l.container=a("#main-slideshow"),l.hendheld=!!(e.width()<740&&dtGlobals.isMobile),a("#main-slideshow-content").appendTo(l.container),a.fn.portholeScroller=function(){var b=a(this),c={},d="";c.$items=b.children("li"),c.count=c.$items.length,c.$items.each(function(b){var c=a(this),e=c,f=e.children("img"),g=f.attr("data-rstmb"),h=f.attr("alt")||"",i=(f.attr("data-src"),f.attr("data-srcset"),f.attr("class"));if(f.hasClass("lazy-load"))var j="layzr-bg";else var j="";d=d+'<div class="ps-thumb-img '+j+'"><img class=" '+i+'" src="'+g+'"  width="150" height="150" alt="'+h+'"></div>'}),b.addClass("ts-cont"),b.wrap('<div class="ts-wrap"><div class="ts-viewport portholeSlider-wrap"></div></div>');var i=b.parents(".ts-wrap"),j=b.parents("#main-slideshow"),k=(e.width(),j.attr("data-padding-side")?parseInt(j.attr("data-padding-side")):0,!("true"==j.attr("data-paused")||"undefined"==typeof j.attr("data-autoslide")||e.width()<740&&dtGlobals.isMobile)),l=j.attr("data-autoslide")&&parseInt(j.attr("data-autoslide"))>999?parseInt(j.attr("data-autoslide")):5e3,m="undefined"!=typeof j.attr("data-autoslide"),n=j.attr("data-width")?parseInt(j.attr("data-width")):800,o=j.attr("data-height")?parseInt(j.attr("data-height")):400,p=j.attr("data-scale")?j.attr("data-scale"):"none",q=i.thePhotoSlider({mode:{type:"slider"},height:o,width:n,resizeImg:!0,imageScaleMode:p,imageAlignCenter:!0,autoPlay:{enabled:k,delay:l,loop:m}}).data("thePhotoSlider"),r=a('<div class="psThumbs"><div class="psThumbsContainer">'+d+"</div></div>");i.append(r);var s=a(".ps-thumb-img ");s.each(function(b){a(this).on("click",function(c){a(this);q.slideTo(b)})}),a(".psThumbsContainer").after('<div class="progress-wrapper"><div class="progress-controls"></div></div>'),$progressWrap=a(".psThumbsContainer").next(),$progressHtml='<div class="progress-mask"><div class="progress-spinner-left" style="animation-duration: '+l+'ms;"></div></div><div class="progress-mask"><div class="progress-spinner-right" style="animation-duration: '+l+'ms;"></div></div>',q.st.autoPlay.enabled&&$progressWrap.find(".progress-mask").length<1&&$progressWrap.prepend($progressHtml),q.ev.on("autoPlayPlay",function(){$progressWrap.find(".progress-mask").length<1&&$progressWrap.prepend($progressHtml),$progressWrap.removeClass("paused")}),q.ev.on("autoPlayPause",function(){$progressWrap.find(".progress-mask").remove(),k||$progressWrap.addClass("paused")}),q.ev.on("sliderReady beforeTransition",function(){var b=40*-q.currSlide;0==b&&(b=20),s.removeClass("psNavSelected psNavPrev psNavNext psNavVis"),s.eq(q.currSlide).addClass("psNavSelected"),s.eq(q.currSlide).prev().addClass("psNavPrev"),s.eq(q.currSlide).next().addClass("psNavNext"),s.eq(q.currSlide).prev().prev().addClass("psNavVis"),s.eq(q.currSlide).next().next().addClass("psNavVis"),a(".psThumbsContainer").css({transform:"translateY("+b+"px)"})}),q.ev.on("sliderReady beforeTransition",function(){$progressWrap.addClass("blurred")}),q.ev.on("sliderReady afterTransition",function(){$progressWrap.removeClass("blurred")});var t;if(e.on("resize",function(){clearTimeout(t),t=setTimeout(function(){$progressWrap.removeClass("blurred");
},200)}),navigator.userAgent.match(/Trident.*rv\:11\./)&&g&&f){var u=h.attr("style");h.attr("style",u+"; top:"+q.wrap.height+"px !important;")}g&&!navigator.userAgent.match(/Trident.*rv\:11\./)&&(a.isFunction(dtGlobals.resetSizes)&&dtGlobals.resetSizes(q.wrap.height),a.isFunction(dtGlobals.resetMobileSizes)&&dtGlobals.resetMobileSizes(q.wrap.height)),a('<div class="leftArrow"></div><div class="rightArrow"></div>').insertAfter(b),a(".leftArrow",i).click(function(){q.noSlide||q.slidePrev()}),a(".rightArrow",i).click(function(){q.noSlide||q.slideNext()}),q.ev.on("updateNav sliderReady",function(){q.lockRight?a(".rightArrow",i).addClass("disabled"):a(".rightArrow",i).removeClass("disabled"),q.lockLeft?a(".leftArrow",i).addClass("disabled"):a(".leftArrow",i).removeClass("disabled"),q.lockRight&&q.lockLeft&&j.addClass("hide-arrows")}),"true"===j.attr("data-paused")&&$progressWrap.addClass("paused"),$progressWrap.on("click",function(b){b.preventDefault();var c=a(this);c.hasClass("paused")?(c.removeClass("paused"),$progressWrap.find(".progress-mask").length<1&&$progressWrap.prepend($progressHtml),q.noSlide||q.play(),q.st.autoPlay.enabled=!0):(c.addClass("paused"),q.noSlide||q.pause(),q.st.autoPlay.enabled=!1,$progressWrap.find(".progress-mask").remove())})},k.portholeScroller(),k.css("visibility","visible"),a(".ts-wrap .dt-pswp-item").each(function(){var b=a(this);b.parents().removeClass("photoswipe-wrapper").parents("li").addClass("photoswipe-wrapper")})}});